<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Fallow: Javascript Search Optimized Object Notation</title>
</head>

<body>
<div id="jseon">
  <dl data-fallow="object">
    <dt>glossary</dt>
    <dd>
      <dl data-fallow="object">
        <dt>title</dt>
        <dd>example glossary</dd>
        <dt>GlossDiv</dt>
        <dd>
          <dl data-fallow="object">
            <dt>title</dt>
            <dd>S</dd>
            <dt>GlossList</dt>
            <dd>
              <dl data-fallow="object">
                <dt>GlossEntry</dt>
                <dd>
                  <dl data-fallow="object">
                    <dt>ID</dt>
                    <dd>SGML</dd>
                    <dt>SortAs</dt>
                    <dd>SGML</dd>
                    <dt>GlossTerm</dt>
                    <dd>Standard Generalized Markup Language</dd>
                    <dt>Acronym</dt>
                    <dd>SGML</dd>
                    <dt>Abbrev</dt>
                    <dd>ISO 8879 1986</dd>
                    <dt>GlossDef</dt>
                    <dd>
                      <dl data-fallow="object">
                        <dt>para</dt>
                        <dd>A meta markup language used to create markup languages such as DocBook</dd>
                        <dt>GlossSeeAlso</dt>
                        <dd>
                          <ol data-fallow="array">
                            <li>GML</li>
                            <li>XML</li>
                          </ol>
                        </dd>
                      </dl>
                    </dd>
                    <dt>GlossSee</dt>
                    <dd>markup</dd>
                  </dl>
                </dd>
              </dl>
            </dd>
          </dl>
        </dd>
      </dl>
    </dd>
  </dl>
</div>
<script>
(function fallow( window, undefined ) {
var rjseon = [
	[/^[^<]*/,""],
	[/[^>]*$/,""],
	[/\t\r\n/g,""],
	[/>\s+</g,"><"],
	[/<dl data-fallow="object"><dt>/g,"{"],
	[/<\/dd><\/dl>/g,"}"],
	[/<\/dt><dd>/g,":"],
	[/(<\/dd><d[dt]>|<\/li><li>)/g,","],
	[/<ol data-fallow="array"><li>/g,"["],
	[/<\/li><\/ol>/g,"]"],
	[/([\w\s]+)/g,"\"$1\""],
	[/"([\d\.]+|true|false|null)"/g,"$1"]
]
var j=rjseon.length;
var i=0;
var fallow = function fallow( str ){
for (i;i < j;i++) {
	str = str.replace(rjseon[i][0],rjseon[i][1]);
}
return str
}
window.fallow = fallow;
})(window)

var revive = window.JSON.parse(fallow(document.getElementById('jseon').innerHTML))
console.log(revive)
</script>
</body>
</html>
